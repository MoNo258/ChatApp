{"version":3,"sources":["services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","pages/Chat.js","helpers/auth.js","pages/Signup.js","pages/Login.js","App.js","index.js"],"names":["firebase","require","initializeApp","apiKey","authDomain","databaseURL","auth","db","database","Header","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","signOut","Footer","Home","Component","render","Chat","constructor","props","super","this","state","user","chats","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","myRef","React","createRef","componentDidMount","setState","chatArea","current","ref","on","snapshot","forEach","snap","push","val","sort","a","b","timestamp","scrollBy","scrollHeight","error","message","event","target","value","preventDefault","Date","now","uid","formatTime","currDate","day","getDate","toString","length","month","getMonth","getFullYear","getHours","getMinutes","role","map","chat","key","onSubmit","onChange","name","email","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","Signup","password","googleSignIn","githubSignIn","createUserWithEmailAndPassword","console","log","placeholder","Login","gitHubSignIn","signInWithEmailAndPassword","autoComplete","PrivateRoute","component","authenticated","rest","pathname","from","location","PublicRoute","App","loading","onAuthStateChanged","exact","path","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.5a422a72.chunk.js","sourcesContent":["// import firebase from 'firebase';\r\n// import 'firebase/auth';\r\n// import 'firebase/database';\r\n\r\n//below is result of warning message in DevTools\r\nconst firebase = require('firebase/app');\r\nrequire('firebase/auth');\r\nrequire('firebase/database');\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDXa0fgtPdooYjor8GB3xIVD_HZyxKBftU\",\r\n    authDomain: \"chatapp-1fe70.firebaseapp.com\",\r\n    databaseURL: \"https://chatapp-1fe70.firebaseio.com\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth;\r\nexport const db = firebase.database();","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {auth} from '../services/firebase'\r\n\r\nfunction Header() {\r\n    return(\r\n        <header>\r\n            <nav className='navbar navbar-expand-sm fixed-top navbar-light'>\r\n                <Link to='/' className='navbar-brand' >ChatApp</Link>\r\n                <button className='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarNavAltMarkup' aria-controls='navbarNavAltMarkup' aria-expanded='false' aria-label='Toggle navigation' >\r\n                    <span className='navbar-toggler-icon'></span>\r\n                </button>\r\n                <div className='collapse navbar-collapse justify-content-end' id='navbarNavAltMarkup'>\r\n                    {auth().currentUser\r\n                    ?\r\n                    <div className='navbar-nav'>\r\n                        <Link to='/chat' className='nav-item nav-link mr-3' >Profile</Link>\r\n                        <button className='btn btn-primary mr-3' onClick={()=> auth().signOut() } >Logout</button>\r\n                    </div>\r\n                    :\r\n                    <div className='navbar-nav'>\r\n                        <Link to='/login' className='nav-item nav-link mr-3'>Login</Link>\r\n                        <Link to='/signup' className='nav-item nav-link mr-3'>Sign Up</Link>\r\n                    </div>}\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className='pt-5'>\r\n            <div className='container text-center'>\r\n                <p>&copy; ChatApp 2020 :)</p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, {Component} from 'react';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className='home'>\r\n                <Header/>\r\n                <section>\r\n                    <div className='jumbotron jumbotron-fluid py-5'>\r\n                        <div className='container text-center py-5'>\r\n                            <h1 className='display-4'>Welcome to ChatApp</h1>\r\n                            <p>let's chat...</p>\r\n                            <div className='mt-4'>\r\n                                <Link to='/signup' className='btn btn-primary px-5 mr-3'>Create New Account</Link>\r\n                                <Link to='/login' className='btn px-5'>Login to Your Account</Link>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport Header from \"../components/Header\";\r\nimport {auth} from \"../services/firebase\";\r\nimport {db} from \"../services/firebase\";\r\n\r\nexport default class Chat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: auth().currentUser,\r\n            chats: [],\r\n            content: '',\r\n            readError: null,\r\n            writeError: null,\r\n            loadingChats: false\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.myRef = React.createRef();\r\n    }\r\n\r\n    // in original code there is async before componentDidMount, but there is no await...\r\n     componentDidMount() {\r\n        this.setState({readError: null, loadingChats: true});\r\n        const chatArea = this.myRef.current;\r\n        try {\r\n            db.ref('chats').on('value', snapshot => {\r\n                let chats = [];\r\n                snapshot.forEach((snap) => {\r\n                    chats.push(snap.val());\r\n                });\r\n                chats.sort((a, b) => a.timestamp - b.timestamp)\r\n                this.setState({chats});\r\n                chatArea.scrollBy(0, chatArea.scrollHeight);\r\n                this.setState({loadingChats: false});\r\n            });\r\n        } catch (error) {\r\n            this.setState({readError: error.message, loadingChats: false})\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            content: event.target.value\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({writeError: null});\r\n        const chatArea = this.myRef.current;\r\n        try {\r\n            await db.ref('chats').push({\r\n                content: this.state.content,\r\n                timestamp: Date.now(),\r\n                uid: this.state.user.uid\r\n            });\r\n            this.setState({content: ''});\r\n            chatArea.scrollBy(0, chatArea.scrollHeight)\r\n        } catch (error) {\r\n            this.setState({writeError: error.message});\r\n        }\r\n    }\r\n\r\n    formatTime(timestamp) {\r\n        const currDate = new Date(timestamp);\r\n        const day = currDate.getDate().toString().length !== 2 ? '0'+ currDate.getDate() : currDate.getDate();\r\n        const month = currDate.getMonth().toString().length !== 2 ? '0' + (currDate.getMonth() + 1) : currDate.getMonth() + 1;\r\n        const time = `${day}/${month}/${currDate.getFullYear()} ${currDate.getHours()}:${currDate.getMinutes()}`;\r\n        return time;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <div className='chat-area' ref={this.myRef}>\r\n                    {/*loading...*/}\r\n                    {this.state.loadingChats ? <div className='spinner-border text-success' role='status'>\r\n                            <span className='sr-only'>Loading...</span>\r\n                        </div> : ''}\r\n                    {/*chat*/}\r\n                    {this.state.chats.map(chat => {\r\n                        return <p key={chat.timestamp}\r\n                                  className={'chat-bubble ' + (this.state.user.uid === chat.uid ? 'current-user' : '')}>\r\n                            {chat.content}\r\n                            <br/>\r\n                            <span className='chat-time floating-right'>At: {this.formatTime(chat.timestamp)}</span>\r\n                            <br/>\r\n                            <span className='chat-time floating-right'>By: {chat.uid}</span>\r\n                        </p>\r\n                    })}\r\n                </div>\r\n                {/*message form*/}\r\n                <form onSubmit={this.handleSubmit} className='mx-3'>\r\n                    {this.state.writeError ? <p>{this.state.writeError}</p> : null}\r\n                    {/*{this.state.error ? <p>{this.state.error}</p> : null}*/}\r\n                    <textarea onChange={this.handleChange} value={this.state.content} className='form-control'\r\n                              name='content'/>\r\n                    <button type='submit' className='btn btn-submit px-5 mt-4'>Send</button>\r\n                </form>\r\n                <div className='py-5 mx-3'>\r\n                    Login in as: <strong className='text-info'>{this.state.user.email}</strong>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import {auth} from \"../services/firebase\";\r\n\r\nexport function signup(email, password) {\r\n    return auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function login(email, password) {\r\n    return auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n    const provider = new auth.GoogleAuthProvider();\r\n    return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n    const provider = new auth.GithubAuthProvider();\r\n    return auth().signInWithPopup(provider);\r\n}\r\n\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {signup, signInWithGoogle, signInWithGitHub} from \"../helpers/auth\";\r\n\r\nexport default class Signup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            email: '',\r\n            password: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.googleSignIn = this.googleSignIn.bind(this);\r\n        this.githubSignIn = this.githubSignIn.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({error: ''});\r\n        try {\r\n            await signup(this.state.email, this.state.password)\r\n        } catch (error) {\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    async googleSignIn() {\r\n        try {\r\n            await signInWithGoogle();\r\n        } catch (error) {\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    async githubSignIn() {\r\n        try {\r\n            await signInWithGitHub();\r\n        } catch (error) {\r\n            console.log(error)\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n                <form onSubmit={this.handleSubmit} className='mt-5 py-5 px-5'>\r\n                    <h1>\r\n                        Sign Up to\r\n                        <Link to='/' className='title ml-2'>ChatApp</Link>\r\n                    </h1>\r\n                    <p className='lead'>Fill in the form to create an account</p>\r\n                    <div className='form-group'>\r\n                        {this.state.error ? <p>{this.state.error}</p> : null}\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input className='form-control' type=\"email\" placeholder='Email' name='email'\r\n                               value={this.state.email}\r\n                               onChange={this.handleChange}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input className='form-control' type=\"password\" placeholder='Password' name='password'\r\n                               value={this.state.password}\r\n                               onChange={this.handleChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <button type='submit' className='btn btn-primary px-5'>Sign up</button>\r\n                    </div>\r\n                    <p>You can also login with below services</p>\r\n                    <button type='button' onClick={this.googleSignIn} className='btn btn-danger mr-2'>\r\n                        Login with Google\r\n                    </button>\r\n                    <button type='button' onClick={this.githubSignIn} className='btn btn-secondary'>\r\n                        Login with GitHub\r\n                    </button>\r\n                    <hr/>\r\n                    <p>Already have an account? <Link to='/login'>Login</Link></p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {login, signInWithGoogle, signInWithGitHub} from \"../helpers/auth\";\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            email: '',\r\n            password: '',\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.googleSignIn = this.googleSignIn.bind(this);\r\n        this.gitHubSignIn = this.gitHubSignIn.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({error: ''});\r\n        try {\r\n            await login(this.state.email, this.state.password);\r\n        } catch (error) {\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    async googleSignIn() {\r\n        try {\r\n            await signInWithGoogle();\r\n        } catch (error) {\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    async gitHubSignIn() {\r\n        try {\r\n            await signInWithGitHub();\r\n        } catch (error) {\r\n            this.setState({error: error.message});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n                <form autoComplete='off' onSubmit={this.handleSubmit} className='mt-5 py-5 px-5'>\r\n                    <h1>\r\n                        Login to <Link to='/' className='title ml-2'>ChatApp</Link>\r\n                    </h1>\r\n                    <p className='lead'>\r\n                        Fill in the form to login to your account\r\n                    </p>\r\n                    <div className='form-group'>\r\n                        {this.state.error ? <p className='text-danger'>{this.state.error}</p> : null}\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type=\"email\" placeholder='Email' name='email' value={this.state.email}\r\n                               onChange={this.handleChange} className='form-control'/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type=\"password\" placeholder='Password' name='password' value={this.state.password}\r\n                               onChange={this.handleChange} className='form-control'/>\r\n                    </div>\r\n                    <div>\r\n                        <button type='submit' className='btn btn-primary px-5'>Login</button>\r\n                    </div>\r\n                    <p>Or</p>\r\n                    <button onClick={this.googleSignIn} type='button' className='btn btn-danger mr-2'>\r\n                        Sign in with Google\r\n                    </button>\r\n                    <button onClick={this.gitHubSignIn} className='btn btn-secondary'>\r\n                        Sign in with GitHub\r\n                    </button>\r\n                    <hr/>\r\n                    <p>\r\n                        Don't have an account yet? <Link to='/signup'>Sign up</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","import React, {Component} from 'react';\nimport {\n    Route,\n    BrowserRouter as Router,\n    Switch,\n    Redirect\n} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Chat from './pages/Chat';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport {auth} from './services/firebase'\nimport './style.css';\n\n// due to distinguish between private and public routes this project has created `higher-order components` (HOCs) for both types of routes\n// <PrivateRoute> HOC:\nfunction PrivateRoute({component: Component, authenticated, ...rest}) {\n    return (\n        <Route\n            {...rest}\n            render={\n                (props) => authenticated === true\n                    ? <Component {...props}/>\n                    : <Redirect to={{pathname: '/login', state: {from: props.location}}}/>\n            }\n        />\n    )\n}\n\n// <PublicRoute> HOC:\nfunction PublicRoute({component: Component, authenticated, ...rest}) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authenticated === false\n                ? <Component {...props} />\n                : <Redirect to='/chat'/>\n            }\n        />\n    )\n}\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            authenticated: false,\n            loading: true,\n        };\n    }\n\n    componentDidMount() {\n        auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({\n                    authenticated: true,\n                    loading: false,\n                });\n            } else {\n                this.setState({\n                    authenticated: false,\n                    loading: false,\n                });\n            }\n        })\n    }\n\n    render() {\n        return this.state.loading === true ? (\n            <div className='spinner-border text-success' role='status'>\n                <span className='sr-only'>Loading...</span>\n            </div>\n        ) : (\n            <Router>\n                <Switch>\n                    <Route exact path='/' component={Home}></Route>\n                    <PrivateRoute path='/chat' authenticated={this.state.authenticated} component={Chat}></PrivateRoute>\n                    <PublicRoute path='/signup' authenticated={this.state.authenticated} component={Signup}></PublicRoute>\n                    <PublicRoute path='/login' authenticated={this.state.authenticated} component={Login}></PublicRoute>\n                </Switch>\n            </Router>\n        )\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}